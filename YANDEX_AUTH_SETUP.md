# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Yandex ID

## üìã –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Yandex OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://oauth.yandex.ru/](https://oauth.yandex.ru/)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç Yandex
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
4. **–í–∞–∂–Ω–æ:** –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **"–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** Planica Analytics
   - **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
   - **Callback URI #1:** `http://localhost:5173/auth/yandex/callback` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - **Callback URI #2:** `http://localhost:8000/auth/yandex/callback` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)
   - **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** 
     - `login:email` - –¥–æ—Å—Ç—É–ø –∫ email
     - `login:info` - –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **Client ID** –∏ **Client Secret**

## üìã –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:

```env
YANDEX_CLIENT_ID=–≤–∞—à_client_id
YANDEX_CLIENT_SECRET=–≤–∞—à_client_secret
```

## üìã –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
php artisan migrate
```

–≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç –ø–æ–ª—è `yandex_id`, `first_name`, `last_name` –≤ —Ç–∞–±–ª–∏—Ü—É `users`.

## üìã –®–∞–≥ 4: –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞

```bash
php artisan config:clear
php artisan cache:clear
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞: `http://localhost:5173/login`
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex"**
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Yandex
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
5. –í—ã –±—É–¥–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã/–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **Callback URI** –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ —É–∫–∞–∑–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Yandex
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏–∑–º–µ–Ω–∏—Ç–µ Callback URI –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è (—Ç–æ–ª—å–∫–æ Yandex –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è) –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Yandex

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://yandex.ru/dev/id/doc/ru/register-client)
- [OAuth flow](https://yandex.ru/dev/id/doc/ru/register-client)

