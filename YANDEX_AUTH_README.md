# ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Yandex ID —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞!

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **Backend:**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ `YandexOAuthService` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –û–±–Ω–æ–≤–ª–µ–Ω `AuthController` —Å –º–µ—Ç–æ–¥–∞–º–∏ `yandexAuth()` –∏ `getYandexAuthUrl()`
   - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `yandex_id`, `first_name`, `last_name` –≤ —Ç–∞–±–ª–∏—Ü—É `users`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `User` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Yandex –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

2. ‚úÖ **Frontend:**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö Login –∏ Register
   - –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `YandexCallback` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ OAuth redirect
   - –û–±–Ω–æ–≤–ª–µ–Ω `authApi` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è Yandex –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è `/login`, `/register`, `/auth/yandex/callback`

3. ‚úÖ **OAuth Flow:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex"
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Yandex OAuth
   - –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ `/auth/yandex/callback`
   - –û–±–º–µ–Ω –∫–æ–¥–∞ –Ω–∞ —Ç–æ–∫–µ–Ω
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Yandex OAuth

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://oauth.yandex.ru/](https://oauth.yandex.ru/) –∏:

1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **"–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"**
2. –£–∫–∞–∂–∏—Ç–µ Callback URI: `http://localhost:5173/auth/yandex/callback`
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: `login:email`, `login:info`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ Client ID –∏ Client Secret

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤ .env

```env
YANDEX_CLIENT_ID=–≤–∞—à_client_id
YANDEX_CLIENT_SECRET=–≤–∞—à_client_secret
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é

```bash
php artisan migrate
```

### 4. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à

```bash
php artisan config:clear
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/login` –∏–ª–∏ `/register`
2. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex" / "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Yandex"
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Yandex
4. –ì–æ—Ç–æ–≤–æ! –í—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã/–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://yandex.ru/dev/id/doc/ru/register-client)
- [OAuth flow –¥–ª—è –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º](https://yandex.ru/dev/id/doc/ru/register-client)

